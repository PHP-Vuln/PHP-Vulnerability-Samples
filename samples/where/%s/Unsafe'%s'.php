<?php

/*	Unsafe SQL request using only %s and simple quote
	Prevent some simple injection ( $_GET['one'] =" test AND 1 = 1 ") 
	but not if there is ' in the request ($_GET['one'] =" test' AND 1 = 1 ")
*/

define( "SQL_TEST", "SELECT * FROM users WHERE users = '%s'");



if (isset($_GET['one'])) {
    $one = $_GET['one'];
} else {
    $one = "unsafe_<>_'";
    $_GET['one'] = $one;
}


$conn = mysql_connect('localhost', 'mysql_user', 'mysql_password'); // Connection to the database (address, user, password)


$query = sprintf(SQL_TEST, $one); // Construction of the request
$res = mysql_query($query); //execution
    
